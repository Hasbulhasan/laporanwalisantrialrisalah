<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jurnal Ramadhan Santri Al Risalah</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f7f4; margin: 0; padding: 20px; }
        .container { max-width: 500px; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); margin: auto; }
        
        /* Gaya untuk Logo */
        .logo-container { text-align: center; margin-bottom: 15px; }
        .logo-container img { max-width: 100px; height: auto; }

        h2 { color: #2d5a27; text-align: center; margin-bottom: 5px; margin-top: 0; }
        .sub-title { text-align: center; color: #666; margin-bottom: 25px; font-size: 0.9em; }
        .form-group { margin-bottom: 15px; }
        label { display: block; font-weight: bold; margin-bottom: 5px; color: #333; }
        input[type="text"], select { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 14px; }
        .checkbox-group { background: #f9f9f9; padding: 15px; border-radius: 8px; border: 1px solid #eee; }
        .checkbox-item { margin-bottom: 12px; display: flex; align-items: center; cursor: pointer; font-size: 14px; }
        .checkbox-item input { margin-right: 12px; width: 18px; height: 18px; cursor: pointer; }
        button { width: 100%; padding: 14px; background-color: #2d5a27; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px; font-weight: bold; transition: 0.3s; margin-top: 10px; }
        button:hover { background-color: #1e3d1a; box-shadow: 0 2px 8px rgba(0,0,0,0.2); }
        button:disabled { background-color: #ccc; cursor: not-allowed; }
        #statusMessage { margin-top: 15px; text-align: center; font-weight: bold; padding: 10px; border-radius: 5px; display: none; }
    </style>
</head>
<body>

<div class="container">
    <div class="logo-container">
        <img src="logo.png.webp" alt="Logo Al Risalah">
    </div>

    <h2>üåô Jurnal Ramadhan Risalah</h2>
    <p class="sub-title">Laporan Kegiatan santri Al Risalah Selama Liburan</p>
    
    <form id="ramadhanForm">
        <div class="form-group">
            <label>Nama Lengkap:</label>
            <input type="text" name="nama" placeholder="Tulis nama lengkap santri" required>
        </div>

        <div class="form-group">
            <label>Kelas:</label>
            <select name="kelas" required>
                <option value="">-- Pilih Kelas --</option>
                
                <optgroup label="1 Wustha">
                    <option value="1A Wustha">1A Wustha</option>
                    <option value="1B Wustha">1B Wustha</option>
                    <option value="1C Wustha">1C Wustha</option>
                    <option value="1D Wustha">1D Wustha</option>
                    <option value="1E Wustha">1E Wustha</option>
                    <option value="1F Wustha">1F Wustha</option>
                </optgroup>

                <optgroup label="2 Wustha">
                    <option value="2A Wustha">2A Wustha</option>
                    <option value="2B Wustha">2B Wustha</option>
                    <option value="2C Wustha">2C Wustha</option>
                    <option value="2D Wustha">2D Wustha</option>
                    <option value="2E Wustha">2E Wustha</option>
                    <option value="2F Wustha">2F Wustha</option>
                </optgroup>

                <optgroup label="3 Wustha">
                    <option value="3A Wustha">3A Wustha</option>
                    <option value="3B Wustha">3B Wustha</option>
                    <option value="3C Wustha">3C Wustha</option>
                    <option value="3D Wustha">3D Wustha</option>
                    <option value="3E Wustha">3E Wustha</option>
                </optgroup>

                <optgroup label="MAPK">
                    <option value="1A MAPK">1A MAPK</option>
                    <option value="1B MAPK">1B MAPK</option>
                    <option value="2A MAPK">2A MAPK</option>
                    <option value="2B MAPK">2B MAPK</option>
                    <option value="3 MAPK">3 MAPK</option>
                </optgroup>

                <optgroup label="PDF">
                    <option value="1 PDF">1 PDF</option>
                    <option value="2 PDF">2 PDF</option>
                    <option value="3 PDF">3 PDF</option>
                </optgroup>
            </select>
        </div>

        <div class="form-group">
            <label>Kegiatan Hari Ini:</label>
            <div class="checkbox-group">
                <label class="checkbox-item"><input type="checkbox" name="kegiatan" value="Shalat 5 Waktu"> Shalat Berjamaah 5 Waktu</label>
                <label class="checkbox-item"><input type="checkbox" name="kegiatan" value="Tadarus"> Tadarus Al-Quran</label>
                <label class="checkbox-item"><input type="checkbox" name="kegiatan" value="Ceramah"> Mengikuti Ceramah</label>
                <label class="checkbox-item"><input type="checkbox" name="kegiatan" value="Muadzin"> Menjadi Muadzin</label>
                <label class="checkbox-item"><input type="checkbox" name="kegiatan" value="Bantu Orang Tua"> Membantu Orang Tua</label>
                <label class="checkbox-item"><input type="checkbox" name="kegiatan" value="Tarawih"> Shalat Tarawih</label>
                <label class="checkbox-item"><input type="checkbox" name="kegiatan" value="Lomba"> Mengikuti Lomba</label>
            </div>
        </div>

        <button type="submit" id="submitBtn">Kirim Laporan</button>
    </form>
    <div id="statusMessage"></div>
</div>

<script>
    const form = document.getElementById('ramadhanForm');
    // URL Web App Google Script Anda
    const scriptURL = 'https://script.google.com/macros/s/AKfycbyS9dTAzvP38GRa2YzHKOg4ziXsvkFyIDG7k0nuMLZgGsE2OyX8-EWoFmQuiH0ZyniiQA/exec';

    form.addEventListener('submit', e => {
        e.preventDefault();
        const btn = document.getElementById('submitBtn');
        const status = document.getElementById('statusMessage');
        
        btn.disabled = true;
        btn.innerText = "Sedang Mengirim...";
        status.style.display = "none";

        const formData = new FormData(form);
        const outData = new URLSearchParams();
        
        let kegiatanArr = [];
        for (let [key, value] of formData.entries()) {
            if (key === 'kegiatan') {
                kegiatanArr.push(value);
            } else {
                outData.append(key, value);
            }
        }
        outData.append('kegiatan', kegiatanArr.join(', '));

        fetch(scriptURL, { 
            method: 'POST', 
            mode: 'no-cors', 
            body: outData 
        })
        .then(() => {
            status.style.display = "block";
            status.innerHTML = "‚úÖ Alhamdulillah! Laporan berhasil disimpan.";
            status.style.color = "#2d5a27";
            status.style.backgroundColor = "#e8f5e9";
            form.reset();
            btn.disabled = false;
            btn.innerText = "Kirim Laporan";
        })
        .catch(error => {
            console.error('Error!', error);
            status.style.display = "block";
            status.innerHTML = "‚ùå Terjadi kesalahan jaringan. Coba lagi.";
            btn.disabled = false;
            btn.innerText = "Coba Lagi";
        });
    });
</script>
</body>
</html>